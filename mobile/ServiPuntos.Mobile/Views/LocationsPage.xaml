<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="ServiPuntos.Mobile.Views.LocationsPage"
    Title="Estaciones">
    <StackLayout Padding="20"
            Spacing="10">
        <ActivityIndicator
            IsRunning="{Binding IsBusy}"
            IsVisible="{Binding IsBusy}"
            HorizontalOptions="Center"/>

        <CollectionView
            ItemsSource="{Binding Items}"
            SelectionMode="Single"
            SelectionChanged="OnSelectionChanged">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame CornerRadius="5"
                           Padding="10"
                           Margin="0,0,0,10">
                        <Grid ColumnDefinitions="*,Auto">
                            <StackLayout>
                                <Label Text="{Binding Nombre}"
                                       FontAttributes="Bold"/>
                                <Label Text="{Binding Ciudad}, {Binding Departamento}"
                                       FontSize="12"/>
                            </StackLayout>
                            <Label Text="🏪"
                                   FontSize="24"
                                   Grid.Column="1"
                                   VerticalOptions="Center"/>
                        </Grid>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </StackLayout>
</ContentPage>
