<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:views="clr-namespace:ServiPuntos.Mobile.Views"
    x:Class="ServiPuntos.Mobile.Views.OffersPage"
    Title="Ofertas Flash">

    <StackLayout
        Padding="{StaticResource PagePadding}"
        Spacing="{StaticResource DefaultSpacing}">

        <CollectionView
            ItemsSource="{Binding Offers}"
            RemainingItemsThreshold="5"
            RemainingItemsThresholdReachedCommand="{Binding LoadMoreCommand}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <views:OfferItemView/>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <Button
            Text="Actualizar"
            Command="{Binding RefreshCommand}"
            Style="{StaticResource PrimaryButtonStyle}"/>

        <ActivityIndicator
            IsRunning="{Binding IsBusy}"
            IsVisible="{Binding IsBusy}"
            Style="{StaticResource CenteredIndicatorStyle}"/>

    </StackLayout>
</ContentPage>
